// Glengala Fresh Shop Functions - Original 6 Tab System with Collapsible Menus
const shop = {
    cart: [],
    isDarkMode: false,
    currentLanguage: 'en',
    collapsedCategories: new Set(['vegetables', 'fruits', 'herbs', 'juices', 'nuts', 'flowers']),

    // Language translations
    translations: {
        en: {
            shopName: "Glengala Fresh",
            shopSlogan: "Your local fresh produce market",
            bannerTitle: "Fresh Produce Delivered",
            bannerSubtitle: "Order online for next day pickup or delivery",
            searchPlaceholder: "ðŸ” Search for fresh produce...",
            categories: {
                vegetables: "Fresh Vegetables",
                fruits: "Fresh Fruits", 
                herbs: "Herbs, Salads & Greens",
                juices: "Fresh Juices & Beverages",
                nuts: "Nuts, Dried Fruit & Legumes",
                flowers: "Fresh Flowers"
            },
            addToCart: "Add to Cart",
            confirmOrder: "Confirm Order",
            darkMode: "â˜€ï¸ Light Mode",
            lightMode: "ðŸŒ™ Dark Mode"
        },
        zh: {
            shopName: "æ ¼æž—åŠ æ‹‰ç”Ÿé²œ",
            shopSlogan: "æ‚¨æœ¬åœ°çš„ç”Ÿé²œå¸‚åœº",
            bannerTitle: "æ–°é²œå†œäº§å“é…é€",
            bannerSubtitle: "åœ¨çº¿è®¢è´­ï¼Œæ¬¡æ—¥è‡ªææˆ–é…é€",
            searchPlaceholder: "ðŸ” æœç´¢æ–°é²œå†œäº§å“...",
            categories: {
                vegetables: "æ–°é²œè”¬èœ",
                fruits: "æ–°é²œæ°´æžœ",
                herbs: "é¦™è‰æ²™æ‹‰è”¬èœ",
                juices: "æ–°é²œæžœæ±é¥®æ–™",
                nuts: "åšæžœå¹²æžœè±†ç±»",
                flowers: "é²œèŠ±"
            },
            addToCart: "åŠ å…¥è´­ç‰©è½¦",
            confirmOrder: "ç¡®è®¤è®¢å•",
            darkMode: "â˜€ï¸ æµ…è‰²æ¨¡å¼",
            lightMode: "ðŸŒ™ æ·±è‰²æ¨¡å¼"
        },
        vi: {
            shopName: "Glengala TÆ°Æ¡i",
            shopSlogan: "Chá»£ nÃ´ng sáº£n Ä‘á»‹a phÆ°Æ¡ng cá»§a báº¡n",
            bannerTitle: "NÃ´ng Sáº£n TÆ°Æ¡i Giao Táº­n NÆ¡i",
            bannerSubtitle: "Äáº·t hÃ ng online Ä‘á»ƒ nháº­n hÃ ng ngÃ y mai",
            searchPlaceholder: "ðŸ” TÃ¬m kiáº¿m nÃ´ng sáº£n tÆ°Æ¡i...",
            categories: {
                vegetables: "Rau Cá»§ TÆ°Æ¡i",
                fruits: "TrÃ¡i CÃ¢y TÆ°Æ¡i",
                herbs: "Rau ThÆ¡m Salad",
                juices: "NÆ°á»›c Ã‰p TÆ°Æ¡i & Äá»“ Uá»‘ng",
                nuts: "Háº¡t & Háº¡t Dáº§u",
                flowers: "Hoa TÆ°Æ¡i"
            },
            addToCart: "ThÃªm VÃ o Giá»",
            confirmOrder: "XÃ¡c Nháº­n ÄÆ¡n HÃ ng",
            darkMode: "â˜€ï¸ Cháº¿ Äá»™ SÃ¡ng",
            lightMode: "ðŸŒ™ Cháº¿ Äá»™ Tá»‘i"
        },
        ar: {
            shopName: "Ø¬Ù„ÙŠÙ†Ø¬Ø§Ù„Ø§ Ø§Ù„Ø·Ø§Ø²Ø¬",
            shopSlogan: "Ø³ÙˆÙ‚ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø·Ø§Ø²Ø¬Ø© Ø§Ù„Ù…Ø­Ù„ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ",
            bannerTitle: "ØªÙˆØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø·Ø§Ø²Ø¬Ø©",
            bannerSubtitle: "Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù„Ù„ØªØ³Ù„ÙŠÙ… Ø£Ùˆ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ",
            searchPlaceholder: "ðŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø·Ø§Ø²Ø¬Ø©...",
            categories: {
                vegetables: "Ø®Ø¶Ø±ÙˆØ§Øª Ø·Ø§Ø²Ø¬Ø©",
                fruits: "ÙÙˆØ§ÙƒÙ‡ Ø·Ø§Ø²Ø¬Ø©",
                herbs: "Ø£Ø¹Ø´Ø§Ø¨ ÙˆØ³Ù„Ø·Ø§Øª",
                juices: "Ø¹ØµØ§Ø¦Ø± ÙˆÙ…Ø´Ø±ÙˆØ¨Ø§Øª Ø·Ø§Ø²Ø¬Ø©",
                nuts: "Ù…ÙƒØ³Ø±Ø§Øª ÙˆÙ…Ù†ØªØ¬Ø§Øª Ù…Ø¬ÙÙØ©",
                flowers: "Ø²Ù‡ÙˆØ± Ø·Ø§Ø²Ø¬Ø©"
            },
            addToCart: "Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©",
            confirmOrder: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨",
            darkMode: "â˜€ï¸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ",
            lightMode: "ðŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ"
        }
    },

    // Initialize shop
    init() {
        this.loadCart();
        this.loadProducts();
        this.loadDarkMode();
        this.loadLanguage();
        this.setupAutoSave();
        this.setupSearch();
        
        // Start all categories collapsed
        this.collapsedCategories.forEach(category => {
            this.collapseCategory(category);
        });
